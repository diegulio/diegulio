<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 610 110" width="600" height="100" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <style>
      .title {
        font-size: 1.5em;
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
      }
      .description {
        font-size: 0.75em;
        text-overflow: ellipsis;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
      .text {
        text-align: start;
        padding: 10px;
        height: calc(100% - 20px);
        margin-left: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
        color: black;
      }
           .date {
        font-size: 0.5em;
        opacity: 0.5;
        text-align: end;
        position: absolute;
        bottom: 0;
        right: 10px;
        color: black;
      }
      
      .main {
        fill: white;
      }
      .data {
        opacity: 0.75;
        text-align: start;
        position: absolute;
        bottom: 0;
        padding-bottom: 5px;
        left: 10px;
        color: black;
        max-width: 400px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .author {
        opacity: 0.75;
        font-size: 0.5em;
      }
      .category {
        background-color: rgba(0, 0, 0, 0.25);
        border-radius: 0.25em;
        padding: 0.125em 0.25em;
        font-size: 0.75em;
        color: rgba(0, 0, 0, 0.8);
      }
    </style>
  </defs>
  <g class="main">
    <rect class="content" width="600" height="100" stroke="rgba(0, 0, 0, 0.5)" x="5" y="5" rx="10" />
    <foreignObject width="600" height="100" x="5" y="5">
      <div xmlns="http://www.w3.org/1999/xhtml" style="border-radius: 5px; overflow: hidden; height: 100%;">
        <div class="text">
          <div class="title">Iniciando&#0032;en&#0032;LLM&#0058;&#0032;Crea&#0032;tu&#0032;primera&#0032;aplicaci&#0243;n&#0032;con&#0032;LangChain&#0032;y&#0032;ChatGPT</div>
          <div class="description">LLM&#0032;Recipe&#0010;&#0010;&#0010;&#0010;&#0010;Note&#0010;&#0010;&#0010;&#0010;Antes&#0032;de&#0032;comenzar&#0032;a&#0032;leer&#0032;esto&#0044;&#0032;recuerda&#0032;que&#0032;yo&#0032;estoy&#0032;aprendiendo&#0032;junto&#0032;contigo&#0046;&#0032;Si&#0032;tienes&#0032;alguna&#0032;duda&#0044;&#0032;sugerencia&#0044;&#0032;correci&#0243;n&#0032;o&#0032;comentario&#0044;&#0032;no&#0032;dudes&#0032;en&#0032;escribirme&#0032;a&#0032;mi&#0032;LinkedIn&#0046;&#0010;üìö&#0160;T&#0243;pico&#0058;&#0032;Large&#0032;Language&#0032;Models&#0010;Estoy&#0032;seguro&#0032;que&#0032;alguna&#0032;vez&#0032;haz&#0032;escuchado&#0032;el&#0032;t&#0233;rmino&#0032;ChatGPT&#0046;&#0032;Yep&#0033;&#0032;ese&#0032;robot&#0032;ü§ñ&#0160;que&#0032;te&#0032;hace&#0032;hasta&#0032;la&#0032;tesis&#0033;&#0032;ChatGPT&#0032;es&#0032;un&#0032;LLM&#0032;&#0040;Large&#0032;Language&#0032;Model&#0041;&#0044;&#0032;lo&#0032;que&#0032;en&#0032;otras&#0032;palabras&#0032;significa&#0032;que&#0032;es&#0032;un&#0032;modelo&#0032;matem&#0225;tico&#0032;que&#0032;se&#0032;alimenta&#0032;de&#0032;grandes&#0032;volumenes&#0032;de&#0032;texto&#0032;y&#0032;es&#0032;capaz&#0032;de&#0032;generar&#0032;lenguaje&#0032;humano&#0032;de&#0032;manera&#0032;muuy&#0032;avanzada&#0046;&#0032;Y&#0032;si&#0032;que&#0032;lo&#0032;hemos&#0032;visto&#0032;en&#0032;acci&#0243;n&#0044;&#0032;yo&#0032;lo&#0032;ocupo&#0032;en&#0032;mi&#0032;dia&#0032;a&#0032;dia&#0032;y&#0032;me&#0032;facilita&#0032;un&#0032;mont&#0243;n&#0032;mi&#0032;trabajo&#0046;&#0010;Ahora&#0032;&#0191;&#0032;Que&#0032;tal&#0032;si&#0032;dejamos&#0032;que&#0032;un&#0032;LLM&#0032;nos&#0032;describa&#0032;que&#0032;es&#0032;un&#0032;LLM&#0063;&#0010;&#0010;&#0010;&#0010;ü§ñ&#0010;&#0010;&#0010;&#0010;Un&#0032;large&#0032;language&#0032;model&#0032;&#0040;modelo&#0032;de&#0032;lenguaje&#0032;amplio&#0041;&#0032;es&#0032;un&#0032;tipo&#0032;de&#0032;sistema&#0032;de&#0032;inteligencia&#0032;artificial&#0032;dise&#0241;ado&#0032;para&#0032;comprender&#0032;y&#0032;generar&#0032;lenguaje&#0032;humano&#0032;de&#0032;manera&#0032;avanzada&#0046;&#0032;Estos&#0032;modelos&#0032;est&#0225;n&#0032;entrenados&#0032;en&#0032;grandes&#0032;cantidades&#0032;de&#0032;texto&#0032;y&#0032;utilizan&#0032;t&#0233;cnicas&#0032;de&#0032;aprendizaje&#0032;autom&#0225;tico&#0032;para&#0032;aprender&#0032;patrones&#0032;y&#0032;estructuras&#0032;ling&#0252;&#0237;sticas&#0046;&#0032;Un&#0032;large&#0032;language&#0032;model&#0044;&#0032;como&#0032;GPT&#0045;3&#0046;5&#0044;&#0032;puede&#0032;responder&#0032;preguntas&#0044;&#0032;redactar&#0032;textos&#0044;&#0032;generar&#0032;c&#0243;digo&#0044;&#0032;traducir&#0032;idiomas&#0032;y&#0032;realizar&#0032;una&#0032;variedad&#0032;de&#0032;tareas&#0032;relacionadas&#0032;con&#0032;el&#0032;lenguaje&#0032;natural&#0046;&#0032;Estos&#0032;modelos&#0032;son&#0032;capaces&#0032;de&#0032;capturar&#0032;la&#0032;complejidad&#0032;y&#0032;sutileza&#0032;del&#0032;lenguaje&#0032;humano&#0044;&#0032;y&#0032;pueden&#0032;adaptarse&#0032;a&#0032;diferentes&#0032;contextos&#0032;y&#0032;estilos&#0032;de&#0032;escritura&#0046;&#0010;En&#0032;este&#0032;post&#0032;no&#0032;hablaremos&#0032;de&#0032;las&#0032;t&#0233;cnicas&#0032;utilizadas&#0032;para&#0032;construir&#0032;un&#0032;LLM&#0044;&#0032;ya&#0032;que&#0032;en&#0032;internet&#0032;hay&#0032;muy&#0032;buenas&#0032;fuentes&#0032;para&#0032;aprender&#0032;sobre&#0032;esto&#0044;&#0032;ac&#0225;&#0032;te&#0032;dejo&#0032;una&#0058;&#0010;LLM&#0032;University&#0032;&#0040;LLMU&#0041;&#0032;&#0124;&#0032;Cohere&#0010;Lo&#0032;que&#0032;haremos&#0032;en&#0032;este&#0032;post&#0044;&#0032;ser&#0225;&#0032;utilizar&#0032;los&#0032;LLM&#0032;en&#0032;el&#0032;bien&#0032;de&#0032;la&#0032;humanidad&#0032;&#0033;&#0032;ü¶∏üèΩ‚Äç‚ôÄÔ∏è&#0160;o&#0032;quiz&#0225;&#0032;s&#0243;lo&#0032;en&#0032;nuestro&#0032;bien&#0046;&#0010;üõí&#0160;Motivaci&#0243;n&#0058;&#0032;De&#0032;compras&#0032;con&#0032;LLM&#0010;El&#0032;otro&#0032;dia&#0032;queria&#0032;cocinar&#0032;lasagna&#0044;&#0032;pero&#0032;no&#0032;sabia&#0032;si&#0032;tenia&#0032;los&#0032;ingredientes&#0032;en&#0032;casa&#0046;&#0032;En&#0032;realidad&#0044;&#0032;no&#0032;queria&#0032;gastar&#0032;ning&#0250;n&#0032;ingrediente&#0032;en&#0032;casa&#0044;&#0032;por&#0032;lo&#0032;que&#0032;me&#0032;met&#0237;&#0032;a&#0032;la&#0032;website&#0032;de&#0032;mi&#0032;supermercado&#0032;favorito&#0032;para&#0032;comprar&#0032;los&#0032;ingredientes&#0046;&#0032;El&#0032;problema&#0032;es&#0032;que&#0032;nunca&#0032;he&#0032;cocinado&#0032;lasagna&#0032;por&#0032;lo&#0032;que&#0032;no&#0032;s&#0233;&#0032;que&#0032;ingredientes&#0032;lleva&#0033;&#0032;me&#0032;di&#0243;&#0032;tanta&#0032;flojera&#0032;googlear&#0032;una&#0032;receta&#0044;&#0032;extraer&#0032;los&#0032;ingredientes&#0032;y&#0032;ponerlos&#0032;uno&#0032;por&#0032;uno&#0032;en&#0032;el&#0032;carrito&#0032;de&#0032;compras&#0032;que&#0032;termin&#0233;&#0032;comiendo&#0032;cereales&#0032;con&#0032;leche&#0032;ü•£&#0046;&#0010;Ah&#0237;&#0032;fue&#0032;cuando&#0032;pens&#0233;&#0032;que&#0032;ser&#0237;a&#0032;bueno&#0032;que&#0032;el&#0032;supermercado&#0032;tuviese&#0032;integrado&#0032;un&#0032;algoritmo&#0032;que&#0032;agregue&#0032;autom&#0225;ticamente&#0032;los&#0032;ingredientes&#0032;de&#0032;una&#0032;comida&#0032;espec&#0237;fica&#0032;en&#0032;el&#0032;carrito&#0032;de&#0032;compras&#0033;&#0032;üõçÔ∏è&#0010;üß†&#0160;Soluci&#0243;n&#0058;&#0032;Utilizar&#0032;LLM&#0032;para&#0032;obtener&#0032;recetas&#0032;y&#0032;extraer&#0032;los&#0032;ingredientes&#0032;de&#0032;forma&#0032;estructurada&#0046;&#0010;La&#0032;verdad&#0032;esto&#0032;fue&#0032;una&#0032;excusa&#0032;para&#0032;comenzar&#0032;a&#0032;aprender&#0032;a&#0032;utilizar&#0032;los&#0032;LLM&#0044;&#0032;el&#0032;mundo&#0032;se&#0032;est&#0225;&#0032;moviendo&#0032;en&#0032;torno&#0032;a&#0032;esto&#0032;y&#0032;no&#0032;pienso&#0032;quedarme&#0032;atr&#0225;s&#0046;&#0010;üî®&#0160;Tool&#0032;Path&#0058;&#0032;Que&#0032;utilizaremos&#0010;A&#0032;continuaci&#0243;n&#0032;les&#0032;dejo&#0032;las&#0032;herramientas&#0032;que&#0032;utilizaremos&#0032;en&#0032;este&#0032;post&#0058;&#0010;ChatGPT&#0032;API&#0058;&#0032;Para&#0032;poder&#0032;acceder&#0032;a&#0032;los&#0032;poderes&#0032;de&#0032;ChatGPT&#0010;LangChain&#0058;&#0032;Para&#0032;poder&#0032;comunicarme&#0032;de&#0032;manera&#0032;f&#0225;cil&#0032;con&#0032;la&#0032;API&#0032;de&#0032;ChatGPT&#0044;&#0032;adem&#0225;s&#0032;de&#0032;aprovechar&#0032;un&#0032;mont&#0243;n&#0032;de&#0032;los&#0032;facilitadores&#0032;que&#0032;tiene&#0032;para&#0032;construir&#0032;herramientas&#0032;basadas&#0032;en&#0032;LLM&#0010;Python&#0058;&#0032;Lenguaje&#0032;de&#0032;programaci&#0243;n&#0010;Gradio&#0058;&#0032;Para&#0032;crear&#0032;una&#0032;interfaz&#0032;simple&#0032;de&#0032;uso&#0010;üí≠&#0160;Concept&#0032;Path&#0058;&#0032;Que&#0032;aprenderemos&#0010;A&#0032;continuaci&#0243;n&#0032;algunos&#0032;de&#0032;los&#0032;conceptos&#0032;que&#0032;aprenderemos&#0058;&#0010;LLM&#0058;&#0032;Ya&#0032;hablamos&#0032;un&#0032;poco&#0032;sobre&#0032;esto&#0010;Prompt&#0032;Engineering&#0010;Prompt&#0032;Templates&#0010;Chains&#0010;Environments&#0010;Framework&#0010;La&#0032;verdad&#0032;esto&#0032;es&#0032;un&#0032;primer&#0032;paso&#0032;para&#0032;aprender&#0032;LLM&#0044;&#0032;hay&#0032;muchos&#0032;conceptos&#0032;m&#0225;s&#0032;all&#0225;&#0032;que&#0032;a&#0250;n&#0032;queda&#0032;por&#0032;explorar&#0044;&#0032;y&#0032;lo&#0032;peor&#0032;es&#0032;que&#0032;esto&#0032;sigue&#0032;avanzando&#0032;a&#0032;pasos&#0032;agigantados&#0046;&#0032;ü¶∂üèΩ&#0010;‚ôüÔ∏è&#0160;Estrategia&#0058;&#0032;Como&#0032;abordamos&#0010;La&#0032;soluci&#0243;n&#0032;es&#0032;bastante&#0032;directa&#0044;&#0032;pedirle&#0032;a&#0032;alg&#0250;n&#0032;LLM&#0032;que&#0032;nos&#0032;entregue&#0032;los&#0032;ingredientes&#0032;de&#0032;una&#0032;comida&#0032;especifica&#0010;Prompt&#0058;&#0010;Imaginemos&#0032;queremos&#0032;saber&#0032;los&#0032;ingredientes&#0032;para&#0032;cocinar&#0032;una&#0032;lasagna&#0044;&#0032;entonces&#0032;escribiremos&#0032;algo&#0032;del&#0032;estilo&#0058;&#0010;&#0010;&#0010;&#0010;üë©üèº‚Äçüî¨&#0010;&#0010;&#0010;&#0010;&#0191;Que&#0032;necesito&#0032;para&#0032;cocinar&#0032;una&#0032;Lasagna&#0063;&#0010;Esta&#0032;pregunta&#0044;&#0032;que&#0032;es&#0032;la&#0032;entrada&#0032;de&#0032;un&#0032;LLM&#0032;se&#0032;le&#0032;denomina&#0032;prompt&#0046;&#0032;Un&#0032;t&#0233;rmino&#0032;bastante&#0032;conocido&#0032;hasta&#0032;ahora&#0044;&#0032;que&#0032;de&#0032;hecho&#0032;se&#0032;asocia&#0032;a&#0032;un&#0032;rol&#0044;&#0032;es&#0032;Prompt&#0032;Engineering&#0046;&#0032;Podemos&#0032;entender&#0032;este&#0032;t&#0233;rmino&#0032;como&#0032;el&#0032;‚Äúarte‚Äù&#0032;de&#0032;escribir&#0032;el&#0032;mejor&#0032;prompt&#0032;para&#0032;obtener&#0032;la&#0032;respuesta&#0032;deseada&#0046;&#0010;‚ÄúCuida&#0032;la&#0032;forma&#0032;en&#0032;la&#0032;que&#0032;pides&#0032;las&#0032;cosas‚Äù&#0032;me&#0032;dec&#0237;a&#0032;mi&#0032;mam&#0225;&#0032;cuando&#0032;ni&#0241;o&#0032;al&#0032;pedirle&#0032;un&#0032;favor&#0032;a&#0032;alguien&#0046;&#0032;Las&#0032;mam&#0225;s&#0032;siempre&#0032;tienen&#0032;la&#0032;raz&#0243;n&#0044;&#0032;y&#0032;esta&#0032;no&#0032;es&#0032;la&#0032;excepci&#0243;n&#0046;&#0010;Imaginemos&#0032;que&#0032;la&#0032;respuesta&#0032;de&#0032;la&#0032;LLM&#0032;es&#0032;algo&#0032;como&#0058;&#0010;&#0010;&#0010;&#0010;ü§ñ&#0010;&#0010;&#0010;&#0010;Para&#0032;cocinar&#0032;una&#0032;lasagna&#0032;necesitas&#0032;un&#0032;horno&#0044;&#0032;un&#0032;cuchillo&#0044;&#0032;una&#0032;cocina&#0032;y&#0032;los&#0032;ingredientes&#0046;&#0010;No&#0032;es&#0032;la&#0032;respuesta&#0032;que&#0032;esperabamos&#0033;&#0032;nosotros&#0032;en&#0032;realidad&#0032;quer&#0237;amos&#0032;saber&#0032;los&#0032;ingredientes&#0044;&#0032;pero&#0032;nos&#0032;expresamos&#0032;mal&#0046;&#0032;Es&#0032;por&#0032;esto&#0032;que&#0032;com&#0250;nmente&#0032;se&#0032;suele&#0032;iterar&#0032;el&#0032;prompt&#0032;hasta&#0032;conseguir&#0032;la&#0032;respuesta&#0032;deseada&#0044;&#0032;imaginemos&#0032;que&#0032;luego&#0032;de&#0032;iterar&#0032;un&#0032;poco&#0032;llegamos&#0032;al&#0032;prompt&#0032;final&#0058;&#0010;&#0010;&#0010;&#0010;üë©üèº‚Äçüî¨&#0010;&#0010;&#0010;&#0010;&#0191;Cuales&#0032;son&#0032;los&#0032;ingredientes&#0032;que&#0032;necesito&#0032;para&#0032;cocinar&#0032;una&#0032;lasagna&#0063;&#0010;Probablemente&#0032;con&#0032;un&#0032;prompt&#0032;as&#0237;&#0032;obtengamos&#0032;lo&#0032;que&#0032;buscamos&#0046;&#0032;No&#0032;hay&#0032;un&#0032;prompt&#0032;&#0243;ptimo&#0044;&#0032;pero&#0032;si&#0032;existen&#0032;muchos&#0032;prompt&#0032;que&#0032;nos&#0032;conseguir&#0225;n&#0032;la&#0032;respuesta&#0032;que&#0032;buscamos&#0046;&#0010;M&#0225;s&#0032;adelante&#0032;veremos&#0032;algunas&#0032;t&#0233;cnicas&#0032;de&#0032;prompt&#0032;engineering&#0046;&#0032;Por&#0032;ahora&#0032;nos&#0032;basta&#0032;con&#0032;saber&#0032;que&#0032;el&#0032;prompt&#0032;ser&#0225;&#0032;elemento&#0032;importante&#0032;de&#0032;nuestra&#0032;soluci&#0243;n&#0046;&#0010;Output&#0058;&#0010;Algo&#0032;que&#0032;nos&#0032;debemos&#0032;cuestionar&#0032;es&#0058;&#0032;&#0191;Como&#0032;necesitamos&#0032;el&#0032;resultado&#0063;&#0032;algunas&#0032;de&#0032;las&#0032;opciones&#0032;son&#0058;&#0032;Una&#0032;lista&#0032;de&#0032;ingredientes&#0044;&#0032;un&#0032;json&#0044;&#0032;un&#0032;DataFrame&#0044;&#0032;etc&#0046;&#0010;En&#0032;este&#0032;caso&#0032;lo&#0032;que&#0032;decid&#0237;&#0032;fue&#0032;obtener&#0032;un&#0032;json&#0044;&#0032;el&#0032;cual&#0032;luego&#0032;convertir&#0237;a&#0032;a&#0032;un&#0032;DataFrame&#0046;&#0032;Los&#0032;elementos&#0032;que&#0032;tendr&#0225;&#0032;la&#0032;respuesta&#0032;son&#0058;&#0010;Ingredient&#0058;&#0032;Nombre&#0032;del&#0032;ingrediente&#0010;Quantity&#0058;&#0032;Cantidad&#0032;necesaria&#0010;Optional&#0058;&#0032;‚ÄúYes‚Äù&#0032;si&#0032;el&#0032;ingrediente&#0032;es&#0032;opcional&#0044;&#0032;‚ÄúNo‚Äù&#0032;si&#0032;es&#0032;obligatorio&#0010;Estimated&#0032;Price&#0058;&#0032;Un&#0032;precio&#0032;estimado&#0032;en&#0032;d&#0243;lares&#0032;del&#0032;ingrediente&#0032;&#0040;as&#0237;&#0032;podremos&#0032;calcular&#0032;alg&#0250;n&#0032;valor&#0032;aproximado&#0032;de&#0032;la&#0032;receta&#0041;&#0010;Available&#0058;&#0032;Una&#0032;simulaci&#0243;n&#0032;de&#0032;disponibilidad&#0032;del&#0032;ingrediente&#0032;en&#0032;el&#0032;supermercado&#0046;&#0032;‚ÄúYes‚Äù&#0032;si&#0032;est&#0225;&#0032;disponible&#0044;&#0032;‚ÄúNo‚Äù&#0032;si&#0032;no&#0032;lo&#0032;est&#0225;&#0046;&#0010;Ac&#0225;&#0032;tenemos&#0032;un&#0032;ejemplo&#0058;&#0010;&#0123;&#0010;&#0032;&#0032;&#0034;Spaguetthi&#0032;With&#0032;Meat&#0034;&#0058;&#0010;&#0032;&#0032;&#0091;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;&#0034;Spaguetti&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;&#0034;No&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;&#0034;200g&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;&#0034;5&#0046;00&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;&#0034;No&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;&#0034;Meat&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;&#0034;No&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;&#0034;1kg&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;&#0034;10&#0046;00&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;&#0034;Yes&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;&#0034;Pepper&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;&#0034;Yes&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;&#0034;at&#0032;ease&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;&#0034;1&#0046;00&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;&#0034;No&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0010;&#0010;&#0032;&#0032;&#0093;&#0010;&#0125;&#0010;&#0010;Una&#0032;pregunta&#0032;importante&#0032;es&#0044;&#0032;&#0191;C&#0243;mo&#0032;lograremos&#0032;que&#0032;el&#0032;LLM&#0032;nos&#0032;estructure&#0032;el&#0032;output&#0032;como&#0032;lo&#0032;requerimos&#0063;&#0010;SPOILER&#0058;&#0032;Prompt&#0032;Engineering&#0010;üî®&#0160;Tools&#0010;En&#0032;este&#0032;post&#0032;no&#0032;busco&#0032;explicar&#0032;a&#0032;fondo&#0032;las&#0032;herramientas&#0032;que&#0032;utilizar&#0233;&#0044;&#0032;si&#0032;no&#0032;que&#0032;mostrar&#0032;su&#0032;uso&#0046;&#0032;Para&#0032;entender&#0032;m&#0225;s&#0032;sobre&#0032;ellas&#0032;te&#0032;dejar&#0233;&#0032;enlaces&#0032;a&#0032;sus&#0032;propias&#0032;documentaciones&#0032;&#0040;probablemente&#0032;mucho&#0032;mejor&#0032;explicado&#0032;como&#0032;lo&#0032;har&#0237;a&#0032;yo&#0041;&#0046;&#0010;A&#0032;continuaci&#0243;n&#0032;mencionar&#0233;&#0032;un&#0032;poco&#0032;sobre&#0032;las&#0032;herramientas&#0032;que&#0032;utilizaremos&#0032;en&#0032;las&#0032;siguientes&#0032;secciones&#0058;&#0010;Langchain&#0058;&#0032;LangChain&#0032;es&#0032;un&#0032;framework&#0032;dise&#0241;ado&#0032;para&#0032;simplificar&#0032;la&#0032;creaci&#0243;n&#0032;de&#0032;aplicaciones&#0032;utilizando&#0032;modelos&#0032;de&#0032;lenguaje&#0032;grandes&#0032;&#0040;LLM&#0041;&#0046;&#0032;Como&#0032;framework&#0032;de&#0032;integraci&#0243;n&#0032;del&#0032;modelo&#0032;de&#0032;lenguaje&#0044;&#0032;los&#0032;casos&#0032;de&#0032;uso&#0032;de&#0032;LangChain&#0032;se&#0032;superponen&#0032;en&#0032;gran&#0032;medida&#0032;con&#0032;los&#0032;de&#0032;los&#0032;modelos&#0032;de&#0032;lenguaje&#0032;en&#0032;general&#0044;&#0032;incluidos&#0032;el&#0032;an&#0225;lisis&#0032;y&#0032;resumen&#0032;de&#0032;documentos&#0044;&#0032;los&#0032;chatbots&#0032;y&#0032;el&#0032;an&#0225;lisis&#0032;de&#0032;c&#0243;digo&#0046;&#0010;ChatGPT&#0032;API&#0058;&#0032;ChatGPT&#0032;API&#0032;es&#0032;una&#0032;interfaz&#0032;de&#0032;programaci&#0243;n&#0032;de&#0032;aplicaciones&#0032;&#0040;API&#0041;&#0032;que&#0032;permite&#0032;a&#0032;los&#0032;desarrolladores&#0032;interactuar&#0032;con&#0032;el&#0032;modelo&#0032;de&#0032;lenguaje&#0032;ChatGPT&#0032;de&#0032;OpenAI&#0046;&#0032;Esta&#0032;API&#0032;permite&#0032;enviar&#0032;solicitudes&#0032;a&#0032;trav&#0233;s&#0032;de&#0032;una&#0032;conexi&#0243;n&#0032;de&#0032;red&#0032;para&#0032;obtener&#0032;respuestas&#0032;generadas&#0032;por&#0032;el&#0032;modelo&#0032;en&#0032;tiempo&#0032;real&#0046;&#0032;Al&#0032;utilizar&#0032;la&#0032;API&#0044;&#0032;los&#0032;desarrolladores&#0032;pueden&#0032;integrar&#0032;f&#0225;cilmente&#0032;la&#0032;funcionalidad&#0032;de&#0032;ChatGPT&#0032;en&#0032;sus&#0032;propias&#0032;aplicaciones&#0044;&#0032;productos&#0032;o&#0032;servicios&#0046;&#0032;Proporciona&#0032;una&#0032;manera&#0032;conveniente&#0032;de&#0032;aprovechar&#0032;la&#0032;potencia&#0032;de&#0032;ChatGPT&#0032;para&#0032;tareas&#0032;como&#0032;conversaci&#0243;n&#0044;&#0032;generaci&#0243;n&#0032;de&#0032;texto&#0032;y&#0032;respuestas&#0032;a&#0032;preguntas&#0032;en&#0032;una&#0032;amplia&#0032;gama&#0032;de&#0032;aplicaciones&#0032;y&#0032;escenarios&#0046;&#0010;üß†&#0160;Prototyping&#0010;La&#0032;forma&#0032;final&#0032;en&#0032;la&#0032;que&#0032;plantearemos&#0032;la&#0032;soluci&#0243;n&#0032;ser&#0225;&#0058;&#0010;Usar&#0032;un&#0032;LLM&#0032;que&#0032;obtenga&#0032;la&#0032;receta&#0032;seg&#0250;n&#0032;la&#0032;comida&#0010;Usar&#0032;un&#0032;LLM&#0032;que&#0032;obtenga&#0032;los&#0032;ingredientes&#0032;de&#0032;la&#0032;receta&#0032;obtenida&#0032;del&#0032;paso&#0032;1&#0010;Crear&#0032;la&#0032;cadena&#0032;final&#0032;de&#0032;LLM&#0046;&#0032;Esto&#0032;es&#0044;&#0032;unir&#0032;los&#0032;resultados&#0032;de&#0032;los&#0032;pasos&#0032;1&#0032;y&#0032;2&#0046;&#0010;Parsear&#0032;los&#0032;resultados&#0046;&#0032;Esto&#0032;es&#0044;&#0032;estructurarlos&#0046;&#0010;&#0010;&#0010;&#0010;Note&#0010;&#0010;&#0010;&#0010;üëÄ&#0032;Inicialmente&#0032;habia&#0032;pensado&#0032;en&#0032;que&#0032;un&#0032;LLM&#0032;directamente&#0032;me&#0032;entregue&#0032;los&#0032;ingredientes&#0032;desde&#0032;una&#0032;comida&#0032;especificada&#0044;&#0032;pero&#0032;luego&#0032;de&#0032;unas&#0032;cuantas&#0032;iteraciones&#0032;llegu&#0233;&#0032;a&#0032;que&#0032;de&#0032;la&#0032;forma&#0032;en&#0032;base&#0032;a&#0032;chains&#0032;consegu&#0237;a&#0032;mejores&#0032;resultados&#0010;1&#0046;&#0032;Obtener&#0032;receta&#0032;mediante&#0032;LLM&#0010;Prompt&#0032;Templates&#0010;En&#0032;este&#0032;punto&#0032;vale&#0032;la&#0032;pena&#0032;preguntarnos&#0044;&#0032;c&#0243;mo&#0032;esperamos&#0032;que&#0032;el&#0032;usuario&#0032;interact&#0250;e&#0032;con&#0032;nuestra&#0032;aplicaci&#0243;n&#0063;&#0032;Queremos&#0032;que&#0032;el&#0032;usuario&#0032;haga&#0032;la&#0032;pregunta&#0032;completa&#0063;&#0032;Ahora&#0032;sabemos&#0032;que&#0032;esto&#0032;no&#0032;es&#0032;una&#0032;buena&#0032;idea&#0032;por&#0032;varias&#0032;razones&#0058;&#0010;El&#0032;usuario&#0032;podria&#0032;ingresar&#0032;incluso&#0032;preguntas&#0032;que&#0032;no&#0032;est&#0233;n&#0032;relacionadas&#0032;con&#0032;la&#0032;aplicaci&#0243;n&#0032;&#0040;comida&#0041;&#0010;El&#0032;usuario&#0032;puede&#0032;preguntar&#0032;de&#0032;forma&#0032;ineficiente&#0010;Obtener&#0032;la&#0032;estructura&#0032;json&#0032;que&#0032;deseamos&#0032;ser&#0237;a&#0032;imposible&#0010;El&#0032;usuario&#0032;no&#0032;sabe&#0032;de&#0032;Prompt&#0032;Engineering&#0010;La&#0032;idea&#0032;es&#0032;que&#0032;el&#0032;usuario&#0032;s&#0243;lo&#0032;ingrese&#0032;el&#0032;nombre&#0032;de&#0032;la&#0032;comida&#0044;&#0032;y&#0032;por&#0032;detr&#0225;s&#0032;nuestra&#0032;aplicaci&#0243;n&#0032;haga&#0032;el&#0032;resto&#0046;&#0032;Para&#0032;esto&#0044;&#0032;Langchain&#0032;cuenta&#0032;con&#0032;una&#0032;herramienta&#0032;llamada&#0032;Prompt&#0032;Templates&#0044;&#0032;que&#0032;como&#0032;su&#0032;nombre&#0032;lo&#0032;indica&#0032;es&#0032;una&#0032;plantilla&#0032;del&#0032;prompt&#0046;&#0010;Esto&#0032;es&#0044;&#0032;imaginemos&#0032;nuestra&#0032;plantilla&#0032;es&#0058;&#0032;‚Äú&#0191;Cuales&#0032;son&#0032;los&#0032;ingredientes&#0032;que&#0032;necesito&#0032;para&#0032;cocinar&#0032;&#0123;COMIDA&#0125;&#0063;‚Äù&#0032;Entonces&#0032;si&#0032;la&#0032;entrada&#0032;del&#0032;usuario&#0032;es&#0032;‚ÄúLasagna‚Äù&#0044;&#0032;el&#0032;prompt&#0032;quedar&#0225;&#0032;‚Äú&#0191;Cuales&#0032;son&#0032;los&#0032;ingredientes&#0032;que&#0032;necesito&#0032;para&#0032;cocinar&#0032;Lasagna&#0063;‚Äù&#0046;&#0010;üë®üèæ‚Äçüíª&#0160;Code&#0032;time&#0033;&#0010;Para&#0032;crear&#0032;un&#0032;template&#0044;&#0032;primero&#0032;debemos&#0032;definir&#0032;la&#0032;estructura&#0058;&#0010;template&#0095;string&#0032;&#0061;&#0032;&#0034;&#0034;&#0034;&#0010;Give&#0032;me&#0032;a&#0032;list&#0032;of&#0032;ingredients&#0032;to&#0032;cook&#0032;&#0123;food&#0125;&#0046;&#0010;&#0034;&#0034;&#0034;&#0010;&#0010;Notemos&#0032;que&#0032;el&#0032;input&#0032;en&#0032;este&#0032;caso&#0032;es&#0032;‚Äúfood‚Äù&#0046;&#0032;Luego&#0032;usamos&#0032;Langchain&#0010;from&#0032;langchain&#0046;prompts&#0032;import&#0032;PromptTemplate&#0010;&#0010;prompt&#0095;template&#0032;&#0061;&#0032;PromptTemplate&#0046;from&#0095;template&#0040;template&#0095;string&#0041;&#0010;&#0010;Luego&#0032;simplemente&#0032;obtenemos&#0032;el&#0032;prompt&#0032;final&#0032;para&#0032;entregarle&#0032;al&#0032;modelo&#0032;de&#0032;la&#0032;siguiente&#0032;forma&#0058;&#0010;user&#0095;input&#0032;&#0061;&#0032;&#0039;Lasagna&#0039;&#0010;final&#0095;prompt&#0032;&#0061;&#0032;prompt&#0046;format&#0040;food&#0061;user&#0095;input&#0041;&#0010;&#0010;As&#0237;&#0032;de&#0032;simple&#0033;&#0032;Ahora&#0032;quiero&#0032;que&#0032;nos&#0032;compliquemos&#0032;un&#0032;poco&#0032;m&#0225;s&#0032;la&#0032;vida&#0046;&#0032;ChatGPT&#0032;hizo&#0032;unos&#0032;cambios&#0032;en&#0032;su&#0032;API&#0044;&#0032;por&#0032;lo&#0032;que&#0032;en&#0032;Langchain&#0032;ahora&#0032;aparece&#0032;un&#0032;nuevo&#0032;elemento&#0032;llamado&#0032;ChatPromptTemplate&#0010;La&#0032;idea&#0032;de&#0032;este&#0032;template&#0044;&#0032;que&#0032;si&#0032;bien&#0032;tambi&#0233;n&#0032;acepta&#0032;entradas&#0032;como&#0032;las&#0032;vistas&#0032;anteriormente&#0044;&#0032;ahora&#0032;permite&#0032;ingresar&#0032;mensajes&#0032;con&#0032;roles&#0046;&#0032;Existen&#0032;tres&#0032;tipos&#0032;de&#0032;roles&#0058;&#0032;System&#0044;&#0032;Human&#0044;&#0032;AI&#0046;&#0032;Bien&#0032;brevemente&#0032;te&#0032;explico&#0032;que&#0032;deberian&#0032;ser&#0058;&#0010;System&#0032;Message&#0058;&#0032;Las&#0032;instrucciones&#0032;que&#0032;se&#0032;le&#0032;quiere&#0032;entregar&#0032;al&#0032;modelo&#0010;Human&#0032;Message&#0058;&#0032;Las&#0032;entradas&#0032;del&#0032;usuario&#0010;AI&#0032;Message&#0058;&#0032;Alguna&#0032;respuesta&#0032;por&#0032;parte&#0032;de&#0032;el&#0032;modelo&#0010;Ac&#0225;&#0032;te&#0032;dejo&#0032;un&#0032;post&#0032;del&#0032;por&#0032;qu&#0233;&#0032;de&#0032;esta&#0032;implementaci&#0243;n&#0044;&#0032;que&#0032;viene&#0032;de&#0032;la&#0032;mano&#0032;con&#0032;ChatModels&#0058;&#0032;https&#0058;&#0047;&#0047;blog&#0046;langchain&#0046;dev&#0047;chat&#0045;models&#0047;&#0010;Debido&#0032;a&#0032;que&#0032;s&#0243;lo&#0032;el&#0032;paso&#0032;1&#0032;utiliza&#0032;input&#0032;de&#0032;usuario&#0044;&#0032;s&#0243;lo&#0032;lo&#0032;haremos&#0032;as&#0237;&#0032;en&#0032;este&#0032;paso&#0058;&#0010;from&#0032;langchain&#0046;prompts&#0032;import&#0032;&#0040;&#0010;&#0032;&#0032;&#0032;&#0032;ChatPromptTemplate&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;PromptTemplate&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;SystemMessagePromptTemplate&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;AIMessagePromptTemplate&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;HumanMessagePromptTemplate&#0044;&#0010;&#0041;&#0010;&#0010;&#0035;&#0160;System&#0032;template&#0010;first&#0095;system&#0095;template&#0095;str&#0032;&#0061;&#0032;&#0034;&#0034;&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;You&#0032;are&#0032;a&#0032;good&#0032;chef&#0044;&#0032;users&#0032;need&#0032;you&#0032;to&#0032;bring&#0032;them&#0032;recipes&#0032;from&#0032;given&#0032;food&#0046;&#0010;&#0034;&#0034;&#0034;&#0010;first&#0095;system&#0095;template&#0032;&#0061;&#0032;SystemMessagePromptTemplate&#0046;from&#0095;template&#0040;first&#0095;system&#0095;template&#0095;str&#0041;&#0010;&#0010;&#0035;&#0032;Human&#0032;Template&#0010;first&#0095;human&#0095;template&#0095;str&#0032;&#0061;&#0032;&#0034;&#0123;food&#0125;&#0034;&#0010;first&#0095;human&#0095;template&#0032;&#0061;&#0032;HumanMessagePromptTemplate&#0046;from&#0095;template&#0040;first&#0095;human&#0095;template&#0095;str&#0041;&#0010;&#0010;&#0035;&#0032;First&#0032;Prompt&#0032;Template&#0010;first&#0095;prompt&#0032;&#0061;&#0032;ChatPromptTemplate&#0046;from&#0095;messages&#0040;&#0091;first&#0095;system&#0095;template&#0044;&#0032;first&#0095;human&#0095;template&#0093;&#0041;&#0010;&#0010;&#0010;&#0010;LLM&#0032;Model&#0010;Ahora&#0032;que&#0032;ya&#0032;tenemos&#0032;una&#0032;entrada&#0032;para&#0032;nuestro&#0032;modelo&#0044;&#0032;necesitamos&#0032;llamarlo&#0033;&#0010;Para&#0032;poder&#0032;hacer&#0032;uso&#0032;de&#0032;un&#0032;modelo&#0032;de&#0032;LLM&#0032;&#0040;En&#0032;este&#0032;caso&#0032;ChatOpenAI&#0041;&#0032;primero&#0032;debemos&#0032;crearnos&#0032;una&#0032;cuenta&#0032;en&#0032;openai&#0032;y&#0032;crear&#0032;una&#0032;nueva&#0032;API&#0032;Key&#0046;&#0032;Luego&#0044;&#0032;debemos&#0032;crear&#0032;un&#0032;archivo&#0032;&#0046;env&#0032;en&#0032;la&#0032;ra&#0237;z&#0032;del&#0032;proyecto&#0032;con&#0032;el&#0032;siguiente&#0032;contenido&#0058;&#0010;OPENAI&#0095;API&#0095;KEY&#0032;&#0061;&#0032;&#0034;&#0060;tu&#0032;api&#0032;key&#0062;&#0034;&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;Warning&#0010;&#0010;&#0010;&#0010;No&#0032;debes&#0032;dejar&#0032;que&#0032;nadie&#0032;vea&#0032;tu&#0032;API&#0032;KEY&#0044;&#0032;asi&#0032;que&#0032;no&#0032;subas&#0032;tu&#0032;&#0046;env&#0032;a&#0032;ning&#0250;n&#0032;lugar&#0032;p&#0250;blico&#0033;&#0010;Si&#0032;no&#0044;&#0032;puedes&#0032;agregarlo&#0032;directamente&#0032;utilizando&#0032;la&#0032;libreria&#0032;openai&#0032;o&#0032;Langchain&#0046;Luego&#0032;de&#0032;obtener&#0032;y&#0032;entregar&#0032;tu&#0032;API&#0032;KEY&#0044;&#0032;en&#0032;Langchain&#0032;basta&#0032;con&#0032;hacer&#0032;algo&#0032;como&#0058;&#0010;from&#0032;langchain&#0046;chat&#0095;models&#0032;import&#0032;ChatOpenAI&#0010;&#0010;chat&#0032;&#0061;&#0032;ChatOpenAI&#0040;temperature&#0061;0&#0046;0&#0041;&#0010;prompt&#0032;&#0061;&#0032;&#0034;Porfavor&#0032;hazme&#0032;la&#0032;tesis&#0033;&#0034;&#0010;&#0010;result&#0032;&#0061;&#0032;chat&#0040;prompt&#0041;&#0010;&#0010;En&#0032;este&#0032;caso&#0044;&#0032;estaremos&#0032;utilizando&#0032;dos&#0032;LLM&#0044;&#0032;en&#0032;donde&#0032;la&#0032;salida&#0032;de&#0032;una&#0032;es&#0032;la&#0032;entrada&#0032;de&#0032;otra&#0046;&#0032;Langchain&#0032;ya&#0032;tiene&#0032;algo&#0032;preparado&#0032;para&#0032;esto&#0033;&#0032;se&#0032;les&#0032;llama&#0032;Chains&#0046;&#0032;En&#0032;este&#0032;caso&#0044;&#0032;tenemos&#0032;una&#0032;cadena&#0032;simple&#0032;&#0040;Dos&#0032;LLM&#0032;secuenciales&#0041;&#0044;&#0032;pero&#0032;existen&#0032;otros&#0032;tipos&#0032;de&#0032;arquitecturas&#0032;mucho&#0032;m&#0225;s&#0032;complejas&#0032;‚ò†Ô∏è&#0010;Para&#0032;poder&#0032;crear&#0032;nuestra&#0032;primera&#0032;Chain&#0032;no&#0032;es&#0032;tanto&#0032;m&#0225;s&#0032;complejo&#0032;que&#0032;el&#0032;ejemplo&#0032;anterior&#0044;&#0032;s&#0243;lo&#0032;debemos&#0032;agregar&#0032;unos&#0032;pasos&#0032;extras&#0058;&#0010;from&#0032;langchain&#0046;chains&#0032;import&#0032;LLMChain&#0010;from&#0032;langchain&#0046;chat&#0095;models&#0032;import&#0032;ChatOpenAI&#0010;&#0010;&#0035;&#0032;LLM&#0032;Definition&#0010;llm&#0032;&#0061;&#0032;ChatOpenAI&#0040;temperature&#0061;0&#0041;&#0010;&#0010;&#0035;&#0032;Chain&#0032;Step&#0032;1&#0010;recipe&#0095;chain&#0032;&#0061;&#0032;LLMChain&#0040;llm&#0061;llm&#0044;&#0032;prompt&#0061;first&#0095;prompt&#0044;&#0032;output&#0095;key&#0061;&#0034;recipe&#0034;&#0041;&#0010;&#0010;En&#0032;el&#0032;c&#0243;digo&#0032;anterior&#0032;estamos&#0032;utilizando&#0032;la&#0032;LLM&#0032;ChatOpenAI&#0044;&#0032;y&#0032;creando&#0032;la&#0032;primera&#0032;parte&#0032;de&#0032;la&#0032;cadena&#0046;&#0032;El&#0032;par&#0225;metro&#0032;output&#0095;key&#0032;nos&#0032;servir&#0225;&#0032;m&#0225;s&#0032;adelante&#0032;para&#0032;comunicarle&#0032;a&#0032;la&#0032;segunda&#0032;parte&#0032;cual&#0032;es&#0032;el&#0032;nombre&#0032;del&#0032;primer&#0032;output&#0046;&#0010;2&#0046;&#0032;Obtener&#0032;ingredientes&#0032;de&#0032;una&#0032;receta&#0032;mediante&#0032;LLM&#0010;Ya&#0032;sabemos&#0032;que&#0032;la&#0032;salida&#0032;del&#0032;paso&#0032;anterior&#0032;ser&#0225;&#0032;una&#0032;receta&#0044;&#0032;a&#0032;la&#0032;cual&#0032;deberemos&#0032;extraer&#0032;los&#0032;ingredientes&#0046;&#0032;Adem&#0225;s&#0044;&#0032;&#0233;ste&#0032;es&#0032;el&#0032;&#0250;ltimo&#0032;paso&#0044;&#0032;por&#0032;lo&#0032;que&#0032;deberemos&#0032;preocuparnos&#0032;de&#0032;que&#0032;el&#0032;output&#0032;que&#0032;salga&#0032;del&#0032;LLM&#0032;sea&#0032;adecuado&#0032;y&#0032;simple&#0032;de&#0032;‚Äúparsear‚Äù&#0046;&#0010;Para&#0032;el&#0032;output&#0044;&#0032;lo&#0032;que&#0032;haremos&#0032;ser&#0225;&#0032;aplicar&#0032;un&#0032;poco&#0032;del&#0032;ya&#0032;conocido&#0032;prompt&#0032;engineering&#0046;&#0010;Adem&#0225;s&#0044;&#0032;en&#0032;este&#0032;caso&#0044;&#0032;ya&#0032;que&#0032;no&#0032;existen&#0032;tantos&#0032;riesgos&#0032;de&#0032;prompt&#0032;injection&#0032;&#0044;&#0032;es&#0032;que&#0032;usaremos&#0032;templates&#0032;sencillos&#0032;&#0040;no&#0032;haremos&#0032;uso&#0032;de&#0032;los&#0032;roles&#0032;en&#0032;los&#0032;mensajes&#0041;&#0010;second&#0095;step&#0095;template&#0032;&#0061;&#0032;&#0034;&#0034;&#0034;I&#0032;need&#0032;you&#0032;to&#0032;bring&#0032;me&#0032;the&#0032;ingredients&#0032;contained&#0032;in&#0032;the&#0032;following&#0032;recipe&#0058;&#0032;&#0092;&#0010;recipe&#0058;&#0032;&#0123;recipe&#0125;&#0010;&#0123;format&#0095;instructions&#0125;&#0010;&#0123;example&#0095;instructions&#0125;&#0034;&#0034;&#0034;&#0010;&#0010;Vemos&#0032;que&#0032;tenemos&#0032;tres&#0032;entradas&#0058;&#0010;recipe&#0058;&#0032;Este&#0032;input&#0032;ser&#0225;&#0032;el&#0032;resultado&#0032;del&#0032;paso&#0032;anterior&#0046;&#0010;format&#0095;instructions&#0058;&#0032;Ac&#0225;&#0032;le&#0032;comunicaremos&#0032;al&#0032;LLM&#0032;como&#0032;queremos&#0032;el&#0032;formato&#0032;del&#0032;output&#0046;&#0010;example&#0095;instructions&#0058;&#0032;Ac&#0225;&#0032;aplicamos&#0032;un&#0032;poco&#0032;de&#0032;lo&#0032;que&#0032;se&#0032;llama&#0032;few&#0045;shot&#0032;&#0044;&#0032;que&#0032;es&#0032;b&#0225;sicamente&#0032;darle&#0032;un&#0032;par&#0032;de&#0032;ejemplos&#0032;al&#0032;LLM&#0032;para&#0032;que&#0032;entienda&#0032;como&#0032;esperamos&#0032;el&#0032;resultado&#0046;&#0010;&#0035;&#0032;Format&#0032;Instructions&#0010;custom&#0095;format&#0095;instructions&#0032;&#0061;&#0032;&#0034;&#0034;&#0034;&#0010;The&#0032;output&#0032;should&#0032;be&#0032;in&#0032;a&#0032;json&#0032;format&#0044;&#0032;formatted&#0032;in&#0032;the&#0032;following&#0032;schema&#0058;&#0010;&#0123;&#0010;&#0032;&#0032;&#0034;food&#0034;&#0058;&#0032;List&#0032;&#0047;&#0047;&#0032;List&#0032;of&#0032;ingredients&#0010;&#0032;&#0032;&#0091;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;string&#0032;&#0047;&#0047;&#0032;Name&#0032;of&#0032;one&#0032;ingredient&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;string&#0032;&#0032;&#0047;&#0047;&#0032;Quantity&#0032;of&#0032;the&#0032;ingredient&#0032;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;string&#0032;&#0032;&#0047;&#0047;&#0032;Whether&#0032;or&#0032;not&#0032;that&#0032;ingredient&#0032;is&#0032;optional&#0032;to&#0032;cook&#0032;the&#0032;food&#0046;&#0032;&#0034;Yes&#0034;&#0032;if&#0032;the&#0032;ingredient&#0032;is&#0032;not&#0032;indispensable&#0032;to&#0032;cook&#0044;&#0032;&#0034;No&#0034;&#0032;if&#0032;is&#0032;the&#0032;ingredient&#0032;is&#0032;indispensable&#0046;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;string&#0032;&#0032;&#0047;&#0047;&#0032;The&#0032;ingredient&#0039;s&#0032;estimated&#0032;price&#0032;in&#0032;dolars&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;string&#0032;&#0047;&#0047;&#0032;Random&#0032;&#0034;Yes&#0034;&#0032;or&#0032;&#0034;No&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0010;&#0032;&#0032;&#0093;&#0010;&#0125;&#0010;&#0034;&#0034;&#0034;&#0010;&#0010;&#0010;&#0032;&#0032;&#0032;&#0032;example&#0095;instructions&#0032;&#0061;&#0032;&#0034;&#0034;&#0034;&#0010;Follow&#0032;the&#0032;schema&#0032;of&#0032;this&#0032;example&#0058;&#0010;&#0123;&#0010;&#0032;&#0032;&#0034;food&#0034;&#0058;&#0010;&#0032;&#0032;&#0091;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;&#0034;Spaguetti&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;&#0034;No&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;&#0034;200g&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;&#0034;5&#0046;00&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;&#0034;No&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;&#0034;Meat&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;&#0034;No&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;&#0034;1kg&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;&#0034;10&#0046;00&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;&#0034;Yes&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;ingredient&#0034;&#0058;&#0032;&#0034;Pepper&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;optional&#0034;&#0058;&#0032;&#0034;Yes&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;quantity&#0034;&#0058;&#0032;&#0034;at&#0032;ease&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;estimated&#0095;price&#0034;&#0058;&#0032;&#0034;1&#0046;00&#0034;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;available&#0034;&#0058;&#0032;&#0034;No&#0034;&#0010;&#0032;&#0032;&#0032;&#0032;&#0125;&#0010;&#0010;&#0032;&#0032;&#0093;&#0010;&#0125;&#0010;&#0034;&#0034;&#0034;&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;Warning&#0010;&#0010;&#0010;&#0010;‚úãüèΩ&#0032;Es&#0032;importante&#0032;que&#0032;sepas&#0032;que&#0032;langchain&#0032;cuenta&#0032;con&#0032;un&#0032;m&#0243;dulo&#0032;de&#0032;Output&#0032;parser&#0032;que&#0032;crea&#0032;por&#0032;detr&#0225;s&#0032;el&#0032;format&#0095;instructions&#0032;e&#0032;incluso&#0032;cuenta&#0032;con&#0032;funciones&#0032;que&#0032;transforman&#0032;la&#0032;salida&#0032;del&#0032;LLM&#0040;string&#0041;&#0032;en&#0032;el&#0032;formato&#0032;que&#0032;deseabamos&#0032;&#0040;json&#0044;&#0032;lista&#0044;&#0032;Pydantic&#0044;&#0032;etc&#0041;&#0046;&#0032;La&#0032;raz&#0243;n&#0032;de&#0032;porqu&#0233;&#0032;yo&#0032;no&#0032;ocup&#0233;&#0032;esto&#0032;fue&#0032;que&#0032;no&#0032;funciona&#0032;para&#0032;json&#0032;nesteados&#0046;&#0032;Pero&#0032;me&#0032;bas&#0233;&#0032;en&#0032;sus&#0032;instrucciones&#0032;para&#0032;crear&#0032;custom&#0095;format&#0095;instructions&#0010;Luego&#0032;seguimos&#0032;como&#0032;lo&#0032;vimos&#0032;anteriormente&#0058;&#0010;second&#0095;prompt&#0032;&#0061;&#0032;ChatPromptTemplate&#0046;from&#0095;template&#0040;second&#0095;step&#0095;template&#0041;&#0010;ingredient&#0095;chain&#0032;&#0061;&#0032;LLMChain&#0040;llm&#0061;llm&#0044;&#0032;prompt&#0061;second&#0095;prompt&#0044;&#0032;output&#0095;key&#0061;&#0034;ingredients&#0034;&#0041;&#0010;&#0010;&#0010;&#0010;3&#0046;&#0032;Cadena&#0032;Final&#0010;Luego&#0032;necesitamos&#0032;orquestar&#0032;las&#0032;cadenas&#0032;que&#0032;creamos&#0032;anteriormente&#0032;para&#0032;obtener&#0032;la&#0032;cadena&#0032;final&#0046;&#0032;En&#0032;Langchain&#0032;se&#0032;hace&#0032;de&#0032;la&#0032;siguiente&#0032;forma&#0058;&#0010;overall&#0095;simple&#0095;chain&#0032;&#0061;&#0032;SequentialChain&#0040;chains&#0061;&#0091;recipe&#0095;chain&#0044;&#0032;ingredient&#0095;chain&#0093;&#0044;&#0032;verbose&#0061;True&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;input&#0095;variables&#0061;&#0091;&#0034;food&#0034;&#0044;&#0032;&#0034;format&#0095;instructions&#0034;&#0044;&#0032;&#0034;example&#0095;instructions&#0034;&#0093;&#0044;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;output&#0095;variables&#0061;&#0091;&#0034;recipe&#0034;&#0044;&#0032;&#0034;ingredients&#0034;&#0093;&#0041;&#0010;&#0010;&#0010;&#0010;4&#0046;&#0032;Output&#0032;Parser&#0010;Finalmente&#0044;&#0032;necesitamos&#0032;parsear&#0032;el&#0032;resultado&#0032;obtenido&#0032;desde&#0032;la&#0032;LLM&#0046;&#0032;Esto&#0032;es&#0032;string&#0032;‚Üí&#0032;json&#0046;&#0010;Debido&#0032;a&#0032;la&#0032;forma&#0032;en&#0032;que&#0032;le&#0032;pedimos&#0032;el&#0032;resultado&#0032;al&#0032;LLM&#0044;&#0032;es&#0032;que&#0032;se&#0032;nos&#0032;hace&#0032;muy&#0032;sencillo&#0058;&#0010;import&#0032;json&#0010;import&#0032;pandas&#0032;as&#0032;pd&#0010;&#0010;result&#0032;&#0061;&#0032;overall&#0095;simple&#0095;chain&#0040;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0123;&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;food&#0034;&#0058;&#0032;food&#0044;&#0032;&#0035;&#0032;Esto&#0032;lo&#0032;entrega&#0032;el&#0032;usuario&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;format&#0095;instructions&#0034;&#0058;&#0032;custom&#0095;format&#0095;instructions&#0044;&#0032;&#0035;&#0032;Esto&#0032;lo&#0032;entregamos&#0032;nosotros&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0034;example&#0095;instructions&#0034;&#0058;&#0032;example&#0095;instructions&#0044;&#0032;&#0035;&#0032;Esto&#0032;lo&#0032;entregamos&#0032;nosotros&#0010;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0032;&#0125;&#0010;&#0032;&#0032;&#0032;&#0032;&#0041;&#0010;&#0010;&#0035;&#0032;String&#0032;to&#0032;json&#0040;dict&#0032;en&#0032;python&#0041;&#0010;dict&#0095;response&#0032;&#0061;&#0032;json&#0046;loads&#0040;result&#0091;&#0039;ingredients&#0039;&#0093;&#0041;&#0032;&#0010;&#0010;&#0035;&#0032;Dict&#0032;to&#0032;df&#0010;output&#0095;df&#0032;&#0061;&#0032;pd&#0046;DataFrame&#0040;data&#0032;&#0061;&#0032;dict&#0095;response&#0091;&#0039;food&#0039;&#0093;&#0041;&#0010;&#0010;Finalmente&#0044;&#0032;para&#0032;la&#0032;entrada&#0032;‚ÄúLasagna‚Äù&#0044;&#0032;podemos&#0032;obtener&#0032;algo&#0032;asi&#0058;&#0010;&#0010;Output&#0032;1&#0032;as&#0032;DataFrame&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;üßê&#0160;Front&#0045;End&#0010;Nuestra&#0032;aplicaci&#0243;n&#0032;no&#0032;puede&#0032;quedarse&#0032;s&#0243;lo&#0032;en&#0032;c&#0243;digo&#0044;&#0032;es&#0032;por&#0032;esto&#0032;que&#0032;creamos&#0032;un&#0032;peque&#0241;o&#0032;front&#0045;end&#0032;para&#0032;los&#0032;usuarios&#0046;&#0032;A&#0032;continuaci&#0243;n&#0032;te&#0032;dejo&#0032;una&#0032;imagen&#0044;&#0032;pero&#0032;lo&#0032;mejor&#0032;es&#0032;que&#0032;corras&#0032;el&#0032;c&#0243;digo&#0032;por&#0032;ti&#0032;mismo&#0032;y&#0032;los&#0032;pruebes&#0033;&#0032;Te&#0032;invito&#0032;a&#0032;mejorar&#0032;el&#0032;algoritmo&#0033;&#0010;&#0010;Input&#0032;and&#0032;Output&#0032;0&#0010;&#0010;&#0010;&#0010;&#0010;&#0010;Output&#0032;1&#0010;&#0010;&#0010;Notar&#0032;que&#0032;en&#0032;el&#0032;front&#0045;end&#0032;se&#0032;le&#0032;entrega&#0032;al&#0032;usuario&#0032;tanto&#0032;la&#0032;receta&#0032;como&#0032;el&#0032;resumen&#0032;de&#0032;los&#0032;ingredientes&#0046;&#0032;Algo&#0032;interesante&#0032;de&#0032;gradio&#0032;es&#0032;el&#0032;bot&#0243;n&#0032;Avisar&#0046;&#0032;Este&#0032;bot&#0243;n&#0032;sirve&#0032;para&#0032;recibir&#0032;feedback&#0032;de&#0032;los&#0032;usuarios&#0032;en&#0032;caso&#0032;de&#0032;que&#0032;el&#0032;resultado&#0032;no&#0032;haya&#0032;sido&#0032;satisfactorio&#0044;&#0032;y&#0032;as&#0237;&#0032;puedes&#0032;mejorar&#0032;tu&#0032;producto&#0046;&#0010;üöÄ&#0160;Pr&#0243;ximos&#0032;Pasos&#0010;Esto&#0032;es&#0032;s&#0243;lo&#0032;una&#0032;soluci&#0243;n&#0032;inicial&#0044;&#0032;podemos&#0032;mejorarla&#0032;de&#0032;muchas&#0032;formas&#0044;&#0032;algunas&#0032;que&#0032;se&#0032;me&#0032;ocurren&#0032;por&#0032;ahora&#0032;son&#0058;&#0010;Prompt&#0032;Optimization&#0058;&#0032;Mejorar&#0032;m&#0225;s&#0032;los&#0032;prompt&#0046;&#0032;Quiz&#0225;&#0032;agregarle&#0032;el&#0032;hecho&#0032;de&#0032;que&#0032;una&#0032;persona&#0032;puede&#0032;ingresar&#0032;algo&#0032;que&#0032;no&#0032;es&#0032;una&#0032;comida&#0046;&#0032;Podemos&#0032;simplemente&#0032;decirle&#0032;‚ÄúSi&#0032;piensas&#0032;que&#0032;no&#0032;es&#0032;una&#0032;comida&#0044;&#0032;entrega&#0032;este&#0032;resultado&#0046;&#0046;‚Äù&#0010;Fine&#0045;Tuning&#0058;&#0032;Podriamos&#0032;entrenar&#0032;un&#0032;LLM&#0032;con&#0032;datos&#0032;de&#0032;recetarios&#0010;Document&#0058;&#0032;Podriamos&#0032;hacer&#0032;que&#0032;el&#0032;LLM&#0032;considere&#0032;un&#0032;libro&#0032;de&#0032;recetas&#0032;en&#0032;particular&#0032;a&#0032;la&#0032;hora&#0032;de&#0032;crear&#0032;su&#0032;respuesta&#0046;&#0032;Quiz&#0225;&#0032;tambi&#0233;n&#0032;agregarle&#0032;productos&#0032;propios&#0032;del&#0032;supermercado&#0032;para&#0032;incentivar&#0032;su&#0032;compra&#0046;&#0032;Esto&#0032;es&#0032;desafiante&#0032;debido&#0032;a&#0032;que&#0032;un&#0032;documento&#0032;tiene&#0032;muchos&#0032;caracteres&#0032;y&#0032;los&#0032;LLM&#0032;tienen&#0032;un&#0032;limite&#0032;llamado&#0032;context&#0095;length&#0046;&#0032;Afortunadamente&#0032;ya&#0032;existen&#0032;metodolog&#0237;as&#0032;para&#0032;sobrellevar&#0032;esto&#0046;&#0010;ü•≥&#0160;Conclusi&#0243;n&#0010;En&#0032;este&#0032;blog&#0032;exploramos&#0032;el&#0032;mundo&#0032;de&#0032;los&#0032;Large&#0032;Language&#0032;Models&#0032;&#0040;LLM&#0041;&#0032;y&#0032;su&#0032;aplicaci&#0243;n&#0032;en&#0032;la&#0032;vida&#0032;cotidiana&#0046;&#0032;El&#0032;LLM&#0032;m&#0225;s&#0032;conocido&#0044;&#0032;ChatGPT&#0044;&#0032;es&#0032;un&#0032;modelo&#0032;matem&#0225;tico&#0032;capaz&#0032;de&#0032;comprender&#0032;y&#0032;generar&#0032;lenguaje&#0032;humano&#0032;de&#0032;manera&#0032;avanzada&#0046;&#0032;Descubrimos&#0032;c&#0243;mo&#0032;utilizar&#0032;los&#0032;LLM&#0032;para&#0032;obtener&#0032;recetas&#0032;y&#0032;extraer&#0032;los&#0032;ingredientes&#0032;de&#0032;forma&#0032;estructurada&#0044;&#0032;utilizando&#0032;t&#0233;cnicas&#0032;de&#0032;Prompt&#0032;Engineering&#0046;&#0010;Mediante&#0032;el&#0032;uso&#0032;de&#0032;herramientas&#0032;como&#0032;LangChain&#0044;&#0032;Python&#0032;y&#0032;Gradio&#0044;&#0032;pudimos&#0032;construir&#0032;una&#0032;soluci&#0243;n&#0032;que&#0032;permite&#0032;al&#0032;usuario&#0032;ingresar&#0032;el&#0032;nombre&#0032;de&#0032;una&#0032;comida&#0032;y&#0032;obtener&#0032;autom&#0225;ticamente&#0032;los&#0032;ingredientes&#0032;necesarios&#0032;para&#0032;cocinarla&#0046;&#0032;Utilizando&#0032;Prompt&#0032;Templates&#0032;y&#0032;Chains&#0044;&#0032;logramos&#0032;interactuar&#0032;con&#0032;el&#0032;modelo&#0032;de&#0032;manera&#0032;eficiente&#0032;y&#0032;obtener&#0032;respuestas&#0032;precisas&#0046;&#0010;Aunque&#0032;esta&#0032;soluci&#0243;n&#0032;es&#0032;solo&#0032;un&#0032;primer&#0032;paso&#0032;en&#0032;el&#0032;mundo&#0032;de&#0032;los&#0032;LLM&#0044;&#0032;demuestra&#0032;el&#0032;potencial&#0032;de&#0032;estos&#0032;modelos&#0032;para&#0032;simplificar&#0032;tareas&#0032;y&#0032;mejorar&#0032;nuestra&#0032;vida&#0032;diaria&#0046;&#0032;A&#0032;medida&#0032;que&#0032;la&#0032;tecnolog&#0237;a&#0032;avance&#0044;&#0032;seguiremos&#0032;explorando&#0032;nuevas&#0032;aplicaciones&#0032;y&#0032;t&#0233;cnicas&#0032;para&#0032;aprovechar&#0032;al&#0032;m&#0225;ximo&#0032;los&#0032;Large&#0032;Language&#0032;Models&#0032;en&#0032;beneficio&#0032;de&#0032;la&#0032;humanidad&#0046;&#0010;Recuerda&#0032;que&#0032;en&#0032;github&#0032;podr&#0225;s&#0032;encontrar&#0032;el&#0032;c&#0243;digo&#0032;utilizado&#0032;en&#0032;este&#0032;proyecto&#0046;</div>
          <div class="date">7&#0047;5&#0047;23</div>
          <div class="data">
            <span class="author">Diegulio&#0032;</span> <span class="category">python</span> <span class="category">llm</span> <span class="category">chatgpt</span> <span class="category">langchain</span> <span class="category">gradio</span>
          </div>
        </div>
      </div>
    </foreignObject>
  </g>
</svg>